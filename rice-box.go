package main

import (
	"github.com/GeertJohan/go.rice/embedded"
	"time"
)

func init() {

	// define files
	file2 := &embedded.EmbeddedFile{
		Filename:    `index.html`,
		FileModTime: time.Unix(1487282180, 0),
		Content:     string("<!doctype html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"utf-8\" />\n\t<title></title>\n\t<link href=\"https://fonts.googleapis.com/css?family=Open+Sans\" rel=\"stylesheet\">\n\t<link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"stylesheet\">\n\t<style>\n\t\thtml, body {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tmin-height: 100%;\n\t\t\tmin-width: 100%;\n\t\t}\n\t\tbody {\n\t\t\tbackground: #45484d;\n\t\t\tbackground: radial-gradient(ellipse at center,  #45484d 0%,#000000 100%);\n\t\t\tdisplay: table;\n\t\t\tposition: absolute;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tfont-family: 'Open Sans', sans-serif;\n\t\t\tfont-size: 12px;\n\t\t\tcolor: white;\n\t\t}\n\t\t#wrap {\n\t\t\tdisplay: table-cell;\n\t\t\tvertical-align: middle;\n\t\t}\n\t\t#player {\n\t\t\theight: 110px;\n\t\t\twidth: 400px;\n\t\t\tmargin: 0 auto;\n\t\t\tbackground: #8db4d3;\n\t\t\tbackground: linear-gradient(135deg, #8db4d3 0%,#598cbf 31%,#04487c 100%);\n\t\t\tbox-shadow: 0px 0px 5px 0px rgba(20,0,168,1);\n\t\t\tposition: relative;\n\t\t}\n\t\t#artwork {\n\t\t\theight: 100px;\n\t\t\twidth: 100px;\n\t\t\tposition: absolute;\n\t\t\ttop: 5px;\n\t\t\tleft: 5px;\n\t\t}\n\t\t#artist {\n\t\t\ttop: 30px;\n\t\t\tleft: 110px;\n\t\t\tright: 5px;\n\t\t\theight: 15px;\n\t\t\tposition: absolute;\n\t\t\tfont-weight: bold;\n\t\t}\n\t\t#name {\n\t\t\ttop: 50px;\n\t\t\tleft: 110px;\n\t\t\tright: 5px;\n\t\t\theight: 15px;\n\t\t\tposition: absolute;\n\t\t}\n\t\t#widgets {\n\t\t\ttop: 5px;\n\t\t\tright: 40px;\n\t\t\twidth: 130px;\n\t\t\theight: 20px;\n\t\t\tposition: absolute;\n\t\t\tborder-radius: 15px;\n\t\t\tfont-size: 10px;\n\t\t\tcolor: #aaaaaa;\n\t\t\tbackground: rgba(0,0,0,0.6);\n\t\t\tborder: 1px inset #505050;\n\t\t}\n\t\t#time {\n\t\t\tfloat: left;\n\t\t\tdisplay: block;\n\t\t\tmargin-top: 3px;\n\t\t\tmargin-left: 10px;\n\t\t}\n\t\t#repeat {\n\t\t\tfloat: right;\n\t\t\tdisplay: block;\n\t\t\tmargin-top: 3px;\n\t\t\tmargin-right: 10px;\n\t\t\theight:10px;\n\t\t}\n\t\t#shuffle {\n\t\t\tfloat: right;\n\t\t\tdisplay: block;\n\t\t\tmargin-top: 3px;\n\t\t\tmargin-right: 10px;\n\t\t\theight: 10px;\n\t\t}\n\t\t#buttons {\n\t\t\tposition: absolute;\n\t\t\tbottom: 5px;\n\t\t\tright: 40px;\n\t\t\twidth: 240px;\n\t\t\theight: 25px;\n\t\t\tbackground: rgba(0, 0, 0, 0.6);\n\t\t\tborder: 1px inset #505050;\n\t\t\tborder-radius: 25px;\n\t\t}\n\t\tbutton:first-child {\n\t\t\tmargin-left:13px;\n\t\t}\n\t\tbutton {\n\t\t\tmargin-top: 3px;\n\t\t\twidth: 70px;\t\n\t\t\t-moz-box-shadow:inset 0px 0px 15px 3px #23395e;\n\t\t\t-webkit-box-shadow:inset 0px 0px 15px 3px #23395e;\n\t\t\tbox-shadow:inset 0px 0px 15px 3px #23395e;\n\t\t\tbackground:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #2e466e), color-stop(1, #415989));\n\t\t\tbackground:-moz-linear-gradient(top, #2e466e 5%, #415989 100%);\n\t\t\tbackground:-webkit-linear-gradient(top, #2e466e 5%, #415989 100%);\n\t\t\tbackground:-o-linear-gradient(top, #2e466e 5%, #415989 100%);\n\t\t\tbackground:-ms-linear-gradient(top, #2e466e 5%, #415989 100%);\n\t\t\tbackground:linear-gradient(to bottom, #2e466e 5%, #415989 100%);\n\t\t\tfilter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#2e466e', endColorstr='#415989',GradientType=0);\n\t\t\tbackground-color:#2e466e;\n\t\t\t-moz-border-radius:5px;\n\t\t\t-webkit-border-radius:5px;\n\t\t\tborder-radius:5px;\n\t\t\tborder:1px solid #1f2f47;\n\t\t\tdisplay:inline-block;\n\t\t\tcursor:pointer;\n\t\t\tcolor:#ffffff;\n\t\t\ttext-decoration:none;\n\t\t\ttext-shadow:0px 1px 0px #263666;\n\t\t}\n\t\tbutton:hover {\n\t\t\tbackground:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #415989), color-stop(1, #2e466e));\n\t\t\tbackground:-moz-linear-gradient(top, #415989 5%, #2e466e 100%);\n\t\t\tbackground:-webkit-linear-gradient(top, #415989 5%, #2e466e 100%);\n\t\t\tbackground:-o-linear-gradient(top, #415989 5%, #2e466e 100%);\n\t\t\tbackground:-ms-linear-gradient(top, #415989 5%, #2e466e 100%);\n\t\t\tbackground:linear-gradient(to bottom, #415989 5%, #2e466e 100%);\n\t\t\tfilter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#415989', endColorstr='#2e466e',GradientType=0);\n\t\t\tbackground-color:#415989;\n\t\t}\n\t\tbutton:active {\n\t\t\tposition:relative;\n\t\t\ttop:1px;\n\t\t}\n\t\tinput[type=range][orient=vertical] {\n\t\t\tposition: absolute;\n\t\t\ttop: 5px;\n\t\t\tright: 5px;\n\t\t\tbottom: 5px;\n\t\t\twriting-mode: bt-lr; /* IE */\n\t\t\t-webkit-appearance: slider-vertical; /* WebKit */\n\t\t\twidth: 8px;\n\t\t\tpadding: 0 5px;\n\t\t}\n\n\t\t.Paused .fa-pause {\n\t\t\tcolor: yellow;\n\t\t}\n\n\t\t.Playing .fa-play {\n\t\t\tcolor: yellow;\n\t\t}\n\n\n\t\t.fa-random, .fa-repeat {\n\t\t\tcolor: #555555;\n\t\t}\n\t\t.shuffle .fa-random, .repeat .fa-repeat {\n\t\t\tcolor: #cccccc;\n\t\t}\n\n\t</style>\n</head>\n<body>\n\t<div id=\"wrap\">\n\t\t<div id=\"player\" :class=\"Status.State\">\n\t\t\t<img id=\"artwork\" :src=\"Status.Artwork\">\n\t\t\t<div id=\"artist\">{{ Status.Artist }}</div>\n\t\t\t<div id=\"name\"> {{ Status.Name }} </div>\n\t\t\t<div id=\"widgets\" v-bind:class=\"{ shuffle: Status.Shuffle, repeat: Status.Repeat }\">\n\t\t\t\t<span id=\"time\"> {{ formatTime(Status.Position) }}  / {{ formatTime(Status.Duration / 1000) }}</span>\n\t\t\t\t<span id=\"repeat\"><i class=\"fa fa-repeat\" aria-hidden=\"true\"></i></span>\n\t\t\t\t<span id=\"shuffle\"><i class=\"fa fa-random\" aria-hidden=\"true\"></i></span>\n\t\t\t</div>\n\t\t\t<div id=\"buttons\"><button v-on:click=\"previousTrack\"><i class=\"fa fa-step-backward\" aria-hidden=\"true\"></i></button><button v-on:click=\"playPause\"><i class=\"fa fa-pause\" aria-hidden=\"true\"></i> <i class=\"fa fa-play\" aria-hidden=\"true\"></i></button><button v-on:click=\"nextTrack\"><i class=\"fa fa-step-forward\" aria-hidden=\"true\"></i></button></div>\n\t\t\t<input v-on:mousedown=\"drag\" v-on:mouseup=\"drop\" v-on:change=\"setVolume\" type=\"range\" min=\"0\" max=\"100\" step=\"1\" orient=\"vertical\" v-model=\"Status.Volume\">\n\t\t</div>\n\t</div>\n\t<script src=\"https://unpkg.com/vue/dist/vue.js\"></script>\n\t<script>\n\t\tif( typeof(WebSocket) != \"function\" ) {\n\t\t\tdocument.body.innerHTML = \"<h1>Error</h1><p>Your browser does not support HTML5 Web Sockets. Try Google Chrome instead.</p>\";\n\t\t}\n\t\tvar s = new WebSocket(\"ws://\" + location.hostname + ':' + location.port + \"/ws\");\n\n\t\tvar app = new Vue({\n\t\t\tel: '#wrap',\n\t\t\tdata: {\n\t\t\t\tStatus: {\n\t\t\t\t\tVolume: 0,\n\t\t\t\t\tState: 'Loading',\n\t\t\t\t\tRepeat: false,\n\t\t\t\t\tShuffle: false,\n\t\t\t\t\tPosition: 0,\n\t\t\t\t\tArtist: \"Please wait...\",\n\t\t\t\t\tName: \"Loading\",\n\t\t\t\t\tArtwork: \"\",\n\t\t\t\t\tDuration: 0,\n\t\t\t\t\tPopularity: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tdrag: function() {\n\t\t\t\t\twindow.clearTimeout(this.dropwait)\n\t\t\t\t\tthis.dragging = true;\n\t\t\t\t},\n\n\t\t\t\tdrop: function() {\n\t\t\t\t\tthis.dropwait = window.setTimeout(function() {\n\t\t\t\t\t\tthis.dragging = false;\n\t\t\t\t\t}.bind(this), 300)\n\t\t\t\t},\n\t\t\t\tsetVolume: function () {\n\t\t\t\t\ts.send(JSON.stringify({Action: \"setVolume\", Value: app.$data.Status.Volume}));\n\t\t\t\t},\n\t\t\t\tplayPause: function() {\n\t\t\t\t\ts.send('{\"Action\":\"playPause\"}');\n\t\t\t\t},\n\t\t\t\tnextTrack: function() {\n\t\t\t\t\ts.send('{\"Action\":\"nextTrack\"}');\n\t\t\t\t},\n\t\t\t\tpreviousTrack: function() {\n\t\t\t\t\ts.send('{\"Action\":\"previousTrack\"}');\n\t\t\t\t},\n\t\t\t\tformatTime : function (value) {\n\t\t\t\t\tvar minutes = Math.floor(value / 60);\n\t\t\t\t\tvar seconds = Math.floor(value - minutes * 60);\n    \t\t\t\treturn minutes + \":\" + (new Array(2+1).join(\"0\")+\"\"+seconds).slice(-2);\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t\ts.onmessage = function(event) {\n\t\t\tvar o = JSON.parse(event.data);\n\t\t\tif (app.dragging) {\n\t\t\t\tdelete o[\"Volume\"];\n\t\t\t}\n\t\t\tconsole.log(o.Duration)\n\t\t\tapp.$data.Status = Object.assign({}, app.$data.Status, o);\n\t\t}\n\t</script>\n</body>\n</html>\n"),
	}

	// define dirs
	dir1 := &embedded.EmbeddedDir{
		Filename:   ``,
		DirModTime: time.Unix(1487282357, 0),
		ChildFiles: []*embedded.EmbeddedFile{
			file2, // index.html

		},
	}

	// link ChildDirs
	dir1.ChildDirs = []*embedded.EmbeddedDir{}

	// register embeddedBox
	embedded.RegisterEmbeddedBox(`index`, &embedded.EmbeddedBox{
		Name: `index`,
		Time: time.Unix(1487282357, 0),
		Dirs: map[string]*embedded.EmbeddedDir{
			"": dir1,
		},
		Files: map[string]*embedded.EmbeddedFile{
			"index.html": file2,
		},
	})
}
